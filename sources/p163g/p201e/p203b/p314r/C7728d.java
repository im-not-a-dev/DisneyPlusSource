package p163g.p201e.p203b.p314r;

import android.content.res.Resources;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.view.View;
import androidx.fragment.app.C0532d;
import com.bumptech.glide.load.C8106b;
import com.bumptech.glide.load.p334n.C8227j;
import java.util.concurrent.Callable;
import java.util.concurrent.Future;
import kotlin.Lazy;
import kotlin.Metadata;
import kotlin.jvm.functions.Function0;
import kotlin.jvm.functions.Function1;
import kotlin.jvm.internal.C12880j;
import kotlin.jvm.internal.C12881k;
import kotlin.jvm.internal.C12890t;
import kotlin.jvm.internal.C12891u;
import kotlin.jvm.internal.C12895y;
import kotlin.reflect.KProperty;
import p163g.p413f.p414a.C10652e;
import p163g.p413f.p414a.p420u.C10723a;
import p163g.p413f.p414a.p420u.C10731h;
import p163g.p413f.p414a.p420u.p421l.C10739c;
import p163g.p413f.p414a.p420u.p422m.C10756d;
import p520io.reactivex.C11969r;
import p520io.reactivex.Completable;
import p520io.reactivex.CompletableSource;

@Metadata(mo31005bv = {1, 0, 3}, mo31006d1 = {"\u0000V\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u000e\n\u0002\b\t\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\u0018\u0000 #2\u00020\u0001:\u0001#B\u0019\b\u0007\u0012\u0006\u0010\u0002\u001a\u00020\u0003\u0012\b\b\u0001\u0010\u0004\u001a\u00020\u0005¢\u0006\u0002\u0010\u0006J\u0010\u0010\u0012\u001a\u00020\n2\u0006\u0010\u0013\u001a\u00020\u0014H\u0002J.\u0010\u0015\u001a\u00020\u00162\u0006\u0010\u0017\u001a\u00020\u00182\u0006\u0010\u0019\u001a\u00020\u00142\u0014\u0010\u001a\u001a\u0010\u0012\u0004\u0012\u00020\u001c\u0012\u0006\u0012\u0004\u0018\u00010\u001d0\u001bH\u0016J\u0018\u0010\u0015\u001a\u00020\u00162\u0006\u0010\u001e\u001a\u00020\u001f2\u0006\u0010\u0019\u001a\u00020\u0014H\u0016J\b\u0010 \u001a\u00020!H\u0016J\b\u0010\"\u001a\u00020!H\u0016R\u000e\u0010\u0002\u001a\u00020\u0003X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0007\u001a\u00020\bX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0004\u001a\u00020\u0005X\u0004¢\u0006\u0002\n\u0000R\u001b\u0010\t\u001a\u00020\n8BX\u0002¢\u0006\f\n\u0004\b\r\u0010\u000e\u001a\u0004\b\u000b\u0010\fR\u001b\u0010\u000f\u001a\u00020\n8BX\u0002¢\u0006\f\n\u0004\b\u0011\u0010\u000e\u001a\u0004\b\u0010\u0010\f¨\u0006$"}, mo31007d2 = {"Lcom/bamtechmedia/dominguez/kidsmode/BackgroundLoaderImpl;", "Lcom/bamtechmedia/dominguez/kidsmode/BackgroundLoader;", "activity", "Landroidx/fragment/app/FragmentActivity;", "prefetchScheduler", "Lio/reactivex/Scheduler;", "(Landroidx/fragment/app/FragmentActivity;Lio/reactivex/Scheduler;)V", "parameters", "Lcom/bumptech/glide/request/RequestOptions;", "urlGA", "", "getUrlGA", "()Ljava/lang/String;", "urlGA$delegate", "Lkotlin/Lazy;", "urlKids", "getUrlKids", "urlKids$delegate", "createURL", "kidsMode", "", "fetchBackground", "", "view", "Landroid/view/View;", "isKidsMode", "transformDrawable", "Lkotlin/Function1;", "Landroid/graphics/drawable/Drawable;", "Landroid/graphics/drawable/BitmapDrawable;", "imageView", "Landroid/widget/ImageView;", "prefetchGABackground", "Lio/reactivex/Completable;", "prefetchKidsBackground", "Companion", "kidsMode_release"}, mo31008k = 1, mo31009mv = {1, 1, 15})
/* renamed from: g.e.b.r.d */
/* compiled from: BackgroundLoaderImpl.kt */
public final class C7728d implements C7727c {

    /* renamed from: f */
    static final /* synthetic */ KProperty[] f16792f;

    /* renamed from: a */
    private final Lazy f16793a = C12763i.m39921a(new C7734f(this));

    /* renamed from: b */
    private final Lazy f16794b = C12763i.m39921a(new C7733e(this));
    /* access modifiers changed from: private */

    /* renamed from: c */
    public final C10731h f16795c;
    /* access modifiers changed from: private */

    /* renamed from: d */
    public final C0532d f16796d;

    /* renamed from: e */
    private final C11969r f16797e;

    /* renamed from: g.e.b.r.d$a */
    /* compiled from: BackgroundLoaderImpl.kt */
    public static final class C7729a {
        private C7729a() {
        }

        public /* synthetic */ C7729a(DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }
    }

    /* renamed from: g.e.b.r.d$b */
    /* compiled from: BackgroundLoaderImpl.kt */
    public static final class C7730b extends C10739c<View, Drawable> {

        /* renamed from: a0 */
        final /* synthetic */ View f16798a0;

        /* renamed from: b0 */
        final /* synthetic */ Function1 f16799b0;

        C7730b(View view, Function1 function1, View view2) {
            this.f16798a0 = view;
            this.f16799b0 = function1;
            super(view2);
        }

        /* renamed from: a */
        public void mo20646a(Drawable drawable) {
        }

        /* access modifiers changed from: protected */
        /* renamed from: d */
        public void mo20649d(Drawable drawable) {
        }

        /* renamed from: a */
        public void mo20648a(Drawable drawable, C10756d<? super Drawable> dVar) {
            this.f16798a0.setBackground((Drawable) this.f16799b0.invoke(drawable));
        }
    }

    /* renamed from: g.e.b.r.d$c */
    /* compiled from: BackgroundLoaderImpl.kt */
    static final class C7731c<V> implements Callable<CompletableSource> {

        /* renamed from: c */
        final /* synthetic */ C7728d f16800c;

        C7731c(C7728d dVar) {
            this.f16800c = dVar;
        }

        public final Completable call() {
            return Completable.m38155a((Future<?>) C10652e.m33421e(this.f16800c.f16796d.getApplicationContext()).mo19946a(this.f16800c.m22787c()).m33481a((C10723a<?>) this.f16800c.f16795c).mo27561F());
        }
    }

    /* renamed from: g.e.b.r.d$d */
    /* compiled from: BackgroundLoaderImpl.kt */
    static final class C7732d<V> implements Callable<CompletableSource> {

        /* renamed from: c */
        final /* synthetic */ C7728d f16801c;

        C7732d(C7728d dVar) {
            this.f16801c = dVar;
        }

        public final Completable call() {
            return Completable.m38155a((Future<?>) C10652e.m33421e(this.f16801c.f16796d.getApplicationContext()).mo19946a(this.f16801c.m22789d()).m33481a((C10723a<?>) this.f16801c.f16795c).mo27561F());
        }
    }

    /* renamed from: g.e.b.r.d$e */
    /* compiled from: BackgroundLoaderImpl.kt */
    static final class C7733e extends C12881k implements Function0<String> {

        /* renamed from: c */
        final /* synthetic */ C7728d f16802c;

        C7733e(C7728d dVar) {
            this.f16802c = dVar;
            super(0);
        }

        public final String invoke() {
            return this.f16802c.m22785a(false);
        }
    }

    /* renamed from: g.e.b.r.d$f */
    /* compiled from: BackgroundLoaderImpl.kt */
    static final class C7734f extends C12881k implements Function0<String> {

        /* renamed from: c */
        final /* synthetic */ C7728d f16803c;

        C7734f(C7728d dVar) {
            this.f16803c = dVar;
            super(0);
        }

        public final String invoke() {
            return this.f16803c.m22785a(true);
        }
    }

    static {
        Class<C7728d> cls = C7728d.class;
        f16792f = new KProperty[]{C12895y.m40235a((C12890t) new C12891u(C12895y.m40230a((Class) cls), "urlKids", "getUrlKids()Ljava/lang/String;")), C12895y.m40235a((C12890t) new C12891u(C12895y.m40230a((Class) cls), "urlGA", "getUrlGA()Ljava/lang/String;"))};
        new C7729a(null);
    }

    public C7728d(C0532d dVar, C11969r rVar) {
        this.f16796d = dVar;
        this.f16797e = rVar;
        C10723a b = ((C10731h) ((C10731h) new C10731h().mo19924a(C8106b.PREFER_ARGB_8888)).mo19928a(C8227j.f17608b)).mo19934b(Integer.MIN_VALUE);
        C12880j.m40222a((Object) b, "RequestOptions()\n       …ide(Target.SIZE_ORIGINAL)");
        this.f16795c = (C10731h) b;
    }

    /* access modifiers changed from: private */
    /* renamed from: c */
    public final String m22787c() {
        Lazy lazy = this.f16794b;
        KProperty kProperty = f16792f[1];
        return (String) lazy.getValue();
    }

    /* access modifiers changed from: private */
    /* renamed from: d */
    public final String m22789d() {
        Lazy lazy = this.f16793a;
        KProperty kProperty = f16792f[0];
        return (String) lazy.getValue();
    }

    /* renamed from: b */
    public Completable mo20645b() {
        Completable b = Completable.m38162b((Callable<? extends CompletableSource>) new C7732d<Object>(this)).mo30051b(this.f16797e);
        C12880j.m40222a((Object) b, "Completable.defer {\n    …ribeOn(prefetchScheduler)");
        return b;
    }

    /* renamed from: a */
    public Completable mo20643a() {
        Completable b = Completable.m38162b((Callable<? extends CompletableSource>) new C7731c<Object>(this)).mo30051b(this.f16797e);
        C12880j.m40222a((Object) b, "Completable.defer {\n    …ribeOn(prefetchScheduler)");
        return b;
    }

    /* renamed from: a */
    public void mo20644a(View view, boolean z, Function1<? super Drawable, ? extends BitmapDrawable> function1) {
        C10652e.m33421e(this.f16796d.getApplicationContext()).mo19946a(z ? m22789d() : m22787c()).m33481a((C10723a<?>) this.f16795c).mo27562a(new C7730b(view, function1, view));
    }

    /* access modifiers changed from: private */
    /* renamed from: a */
    public final String m22785a(boolean z) {
        Resources resources = this.f16796d.getResources();
        C12880j.m40222a((Object) resources, "activity.resources");
        int i = resources.getDisplayMetrics().densityDpi;
        String str = i <= 160 ? "mdpi" : i <= 240 ? "hdpi" : i <= 320 ? "xhdpi" : i <= 480 ? "xxhdpi" : "xxxhdpi";
        String str2 = z ? "anakin" : "ga";
        StringBuilder sb = new StringBuilder();
        sb.append("https://appconfigs.disney-plus.net/dmgz/prod/images/drawable-");
        sb.append(str);
        sb.append("/bg_");
        sb.append(str2);
        sb.append(".png");
        return sb.toString();
    }
}
